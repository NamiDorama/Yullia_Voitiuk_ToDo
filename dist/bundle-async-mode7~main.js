(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{103:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(230);Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}})});var a=r(369);Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}})});var u=r(228);Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return u[e]}})})},141:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(360);Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}})})},142:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=t.GET_TASKS_LIST_ASYNC="Get tasks list (async)",a=t.GET_TASK_BY_ID_ASYNC="Get task by id (async)",u=t.UPDATE_TASK_ASYNC="Update task (async)",s=t.UPDATE_CURRENT_TASK_ASYNC="Update current task (async)",c=t.DELETE_TASK_ASYNC="Delete task (async)",o=t.CREATE_TASK_ASYNC="Create task (async)",i=(t.getTasksAsync=function(){return{type:n}},t.getTaskByIdAsync=function(e){return{type:a,data:e}},t.updateTaskAsync=function(e){return{type:u,data:e}},t.updateCurrentTaskAsync=function(e){return{type:s,data:e}},t.deleteTaskAsync=function(e){return{type:c,data:e}},t.createTaskAsync=function(e){return{type:o,data:e}},t.GET_TASKS_LIST="Get tasks list"),d=t.GET_TASK_BY_ID="Get task by id",l=t.UPDATE_TASK="Update task",f=t.UPDATE_CURRENT_TASK="Update current task",p=t.DELETE_TASK="Delete task",v=t.CREATE_TASK="Create new task";t.getTasks=function(e){return{type:i,data:e}},t.getTaskById=function(e){return{type:d,data:e}},t.updateTask=function(e){return{type:l,data:e}},t.updateCurrentTask=function(e){return{type:f,data:e}},t.deleteTask=function(e){return{type:p,data:e}},t.createTask=function(e){return{type:v,data:e}}},228:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.errObserver={observers:[],addObserver:function(e){this.observers.push(e)},trigger:function(e){this.observers.forEach(function(t){return t(e)})}}},229:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.rest=t.request=void 0;r(228);var n=r(50),a=(r(230),t.request=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",r=arguments[2],a=arguments[3],u=e.includes("checkUser"),s={method:t,credentials:"include",body:JSON.stringify(r)};Object.assign(s,a);var c=fetch("http://localhost:8081/"+e,s).then(function(e){return e.json()}).then(function(e){return e.error?Promise.reject(e.error):Promise.resolve(e)});return c.catch(function(e){return!u&&n.store.dispatch((0,n.setError)(String(e)))}),c});t.rest={get:function(e){return a(e)},post:function(e,t){return a(e,"POST",t,{headers:{"Content-type":"application/json; charset=utf-8"}})},put:function(e,t){return a(e,"PUT",t,{headers:{"Content-type":"application/json; charset=utf-8"}})},delete:function(e){return a(e,"DELETE")}}},230:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateUserFetch=t.logout=t.createNewUserFetch=t.checkUser=t.login=void 0;var n=r(229);t.login=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.rest.post("public/login",e)},t.checkUser=function(){return n.rest.get("public/checkUser")},t.createNewUserFetch=function(e){return n.rest.post("public/user",e)},t.logout=function(){return n.rest.get("logout")},t.updateUserFetch=function(e){return n.rest.put("user",e)}},231:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=t.GET_USER_ASYNC="Get user",a=t.LOGIN_USER_ASYNC="Login user",u=t.LOGOUT_USER_ASYNC="Logout user",s=t.CREATE_USER_ASYNC="Create user",c=t.UPDATE_USER_ASYNC="Update user",o=(t.getUser=function(){return{type:n}},t.loginUser=function(e){return{type:a,data:e}},t.logoutUser=function(){return{type:u}},t.createUserAsync=function(e){return{type:s,data:e}},t.updateUserAsync=function(e){return{type:c,data:e}},t.SET_USER="Set new user"),i=t.UPDATE_USER="Update existing user",d=t.REMOVE_USER="Remove user",l=t.CREATE_NEW_USER="Create new user";t.setUser=function(e){return{type:o,data:e}},t.updateUser=function(e){return{type:i,data:e}},t.removeUser=function(){return{type:d}},t.createUser=function(e){return{type:l,data:e}}},232:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registered=t.error=t.currentTask=t.tasksInWeek=t.user=void 0;var n=r(50);function a(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}t.user=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments[1],r=t.type,a=t.data,u=void 0===a?[]:a;switch(r){case n.SET_USER:case n.UPDATE_USER:return u;case n.REMOVE_USER:return null}return e},t.tasksInWeek=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1],r=t.type,u=t.data,s=void 0===u?[]:u;switch(r){case n.GET_TASKS_LIST:return s;case n.UPDATE_TASK:var c=[].concat(a(e));return c[s.day].forEach(function(e){e.id===s.id&&(e=s)}),c;case n.DELETE_TASK:var o=[].concat(a(e)),i=o[s.day].filter(function(e){return e.id!==s.id});return o[s.day]=i,o}return e},t.currentTask=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],r=t.type,a=t.data,u=void 0!==a&&a;switch(r){case n.UPDATE_CURRENT_TASK:case n.CREATE_TASK:case n.GET_TASK_BY_ID:return u}return e},t.error=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1],r=t.type,a=t.data,u=void 0===a?"":a;switch(r){case n.SET_ERROR:return u}return e},t.registered=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments[1],r=t.type,a=t.data,u=void 0!==a&&a;switch(r){case n.CREATE_NEW_USER:return u}return e}},234:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(356);Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}})})},352:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTasksList=p,t.getTask=v,t.createNewTask=_,t.update=h,t.updateCurrent=y,t.delTask=E,t.watchAllTask=k;var n=r(93),a=r(142),u=r(103),s=regeneratorRuntime.mark(p),c=regeneratorRuntime.mark(v),o=regeneratorRuntime.mark(_),i=regeneratorRuntime.mark(h),d=regeneratorRuntime.mark(y),l=regeneratorRuntime.mark(E),f=regeneratorRuntime.mark(k);function p(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,u.getTasksListFetch)();case 3:return e=t.sent,t.next=6,(0,n.put)((0,a.getTasks)(e));case 6:t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:case"end":return t.stop()}},s,this,[[0,8]])}function v(e){var t,r=e.data;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,u.getTaskByIdFetch)(r);case 3:return t=e.sent,e.next=6,(0,n.put)((0,a.getTaskById)(t));case 6:e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}},c,this,[[0,8]])}function _(e){var t,r=e.data;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,u.createTaskFetch)(r);case 3:return(t=e.sent).updated=!0,e.next=7,(0,n.put)((0,a.createTask)(t));case 7:e.next=11;break;case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}},o,this,[[0,9]])}function h(e){var t=e.data;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,u.updateTaskFetch)(t);case 3:return e.next=5,(0,n.put)((0,a.updateTask)(t));case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}},i,this,[[0,7]])}function y(e){var t,r=e.data;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,u.updateTaskFetch)(r);case 3:return(t=e.sent).updated=!0,e.next=7,(0,n.put)((0,a.updateCurrentTask)(t));case 7:e.next=11;break;case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}},d,this,[[0,9]])}function E(e){var t=e.data;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,u.deleteTaskFetch)(t.id);case 3:return e.next=5,(0,n.put)((0,a.deleteTask)(t));case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}},l,this,[[0,7]])}function k(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,n.all)([(0,n.takeEvery)(a.GET_TASKS_LIST_ASYNC,p),(0,n.takeEvery)(a.GET_TASK_BY_ID_ASYNC,v),(0,n.takeEvery)(a.CREATE_TASK_ASYNC,_),(0,n.takeEvery)(a.UPDATE_TASK_ASYNC,h),(0,n.takeEvery)(a.UPDATE_CURRENT_TASK_ASYNC,y),(0,n.takeEvery)(a.DELETE_TASK_ASYNC,E)]);case 2:case"end":return e.stop()}},f,this)}},353:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getUser=f,t.loginUser=p,t.logoutUser=v,t.create=_,t.update=h,t.watchAllUser=y;var n=r(93),a=r(231),u=r(103),s=regeneratorRuntime.mark(f),c=regeneratorRuntime.mark(p),o=regeneratorRuntime.mark(v),i=regeneratorRuntime.mark(_),d=regeneratorRuntime.mark(h),l=regeneratorRuntime.mark(y);function f(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,u.checkUser)();case 3:return e=t.sent,t.next=6,(0,n.put)((0,a.setUser)(e));case 6:t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(0),t.next=12,(0,n.put)((0,a.removeUser)());case 12:case"end":return t.stop()}},s,this,[[0,8]])}function p(e){var t,r=e.data;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,u.login)(r);case 3:return t=e.sent,e.next=6,(0,n.put)((0,a.setUser)(t));case 6:return e.next=8,(0,n.put)((0,a.createUser)(!1));case 8:e.next=12;break;case 10:e.prev=10,e.t0=e.catch(0);case 12:case"end":return e.stop()}},c,this,[[0,10]])}function v(e){var t=e.data;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,u.logout)(t);case 3:return e.next=5,(0,n.put)((0,a.removeUser)());case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}},o,this,[[0,7]])}function _(e){var t=e.data;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,u.createNewUserFetch)(t);case 3:return e.next=5,(0,n.put)((0,a.createUser)(!0));case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}},i,this,[[0,7]])}function h(e){var t=e.data;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,u.updateUserFetch)(t);case 3:return e.next=5,(0,n.put)((0,a.updateUser)(t));case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}},d,this,[[0,7]])}function y(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,n.all)([(0,n.takeEvery)(a.GET_USER_ASYNC,f),(0,n.takeEvery)(a.LOGIN_USER_ASYNC,p),(0,n.takeEvery)(a.LOGOUT_USER_ASYNC,v),(0,n.takeEvery)(a.CREATE_USER_ASYNC,_),(0,n.takeEvery)(a.UPDATE_USER_ASYNC,h)]);case 2:case"end":return e.stop()}},l,this)}},354:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.rootSaga=c;var n=r(93),a=r(353),u=r(352),s=regeneratorRuntime.mark(c);function c(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,n.all)([(0,a.watchAllUser)(),(0,u.watchAllTask)()]);case 2:case"end":return e.stop()}},s,this)}},356:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.UserCreate=t.UserCreateComponent=void 0;var n=r(55),a=r(35),u=r(141),s=r(50),c=t.UserCreateComponent=function(t){return e.createElement(e.Fragment,null,e.createElement(u.Form,{onSubmitCallback:function(e){t.createUser(e)}}),t.registered&&e.createElement(a.Redirect,{to:"/success_page"}))};t.UserCreate=(0,n.connect)(function(e){return{registered:e.registered}},function(e){return{createUser:function(t){e((0,s.createUserAsync)(t))}}})(c)}).call(this,r(2))},359:function(e,t,r){},360:function(e,t,r){"use strict";(function(e,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Form=void 0;var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();r(359);r(55);function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}(t.Form=function(t){function r(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e));return t.setValue=function(e){var r=e.target;t.setState(u({},r.name,{value:r.value}))},t.validate=function(e){var r=t.fields[e],n=t.state[r.id];r.reg.test(n.value)?n.error="":n.error=r.label+" is invalid",t.setState(u({},r.id,n))},t.save=function(e){var r=t.state,n="";e.preventDefault(),r.password.value!==r.repeatPassword.value&&(n="Passwords should be the same"),t.setState({error:n}),n||t.props.onSubmitCallback(t.getFormValue())},t.fields=r.fields,t.state={error:""},t.fields.forEach(function(e){return t.state[e.id]={value:""}}),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,e),a(r,null,[{key:"fields",get:function(){return[{id:"email",label:"email",reg:/^\w+@\w+\.[a-z]{2,}$/},{id:"firstName",label:"first name",reg:/^[^ ]{3,20}$/},{id:"lastName",label:"last name",reg:/^[^ ]{3,20}$/},{id:"password",label:"password",reg:/^[^ ]{6,20}$/,secure:!0},{id:"repeatPassword",label:"repeat password",reg:/^[^ ]{6,20}$/,secure:!0}]}}]),a(r,[{key:"getDisabledState",value:function(){var e=this;return this.getActualFields().some(function(t){var r=t.id,n=e.state[r],a=n.value,u=n.error;return!a||u})}},{key:"getFormValue",value:function(){var e=this,t={};return this.fields.filter(function(t){return!e.props.excluded.includes(t.id)}).filter(function(t){return!t.value&&!e.props.skipped.includes(t.id)}).filter(function(e){return"repeatPassword"!==e.id}).forEach(function(r){return t[r.id]=e.state[r.id].value}),t}},{key:"getActualFields",value:function(){var e=this;return this.fields.filter(function(t){return!e.props.excluded.includes(t.id)}).filter(function(t){return!e.props.skipped.includes(t.id)}).filter(function(t){return!e.props.disabled.includes(t.id)})}},{key:"render",value:function(){var e=this,t=this.state,r=this.fields,a=this.props,u=a.excluded,s=a.disabled,c=a.registered;return n.createElement(n.Fragment,null,n.createElement("form",{className:"form",onSubmit:this.save},n.createElement("ul",null,r.filter(function(e){var t=e.id;return!u.includes(t)}).map(function(r,a){var u=r.label,c=r.secure,o=r.id,i=t[o];return n.createElement("li",{key:u},n.createElement("input",{type:c?"password":"text",name:o,className:i.error?"error":"correct",placeholder:u.toUpperCase(),value:i.value,onChange:e.setValue,onBlur:function(){return e.validate(a)},disabled:s.includes(o)}),i.error&&n.createElement("span",{className:"error-text"},i.error))})),t.error&&n.createElement("span",{className:"error-text"},t.error),n.createElement("br",null),n.createElement("input",{type:"submit",value:"Save",disabled:this.getDisabledState()})),c&&n.createElement(Redirect,{to:"/success_page"}))}}],[{key:"getDerivedStateFromProps",value:function(e){if(!e.data)return null;var t={};return r.fields.forEach(function(r){var n=r.id;return t[n]={value:e.data[n]}}),t}}]),r}()).defaultProps={excluded:[],disabled:[],skipped:[],onSubmitCallback:function(e){return e}}}).call(this,r(2).Component,r(2))},368:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=t.SET_ERROR="Set app error";t.setError=function(e){return{type:n,data:e}}},369:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deleteTaskFetch=t.createTaskFetch=t.updateTaskFetch=t.getTaskByIdFetch=t.getInfoAboutTasks=t.getTasksListFetch=void 0;var n=r(229);t.getTasksListFetch=function(){return n.rest.get("tasks")},t.getInfoAboutTasks=function(){return n.rest.get("info")},t.getTaskByIdFetch=function(e){return n.rest.get("tasks/"+e)},t.updateTaskFetch=function(e){return n.rest.put("tasks/"+e.id,e)},t.createTaskFetch=function(e){return n.rest.post("tasks",e)},t.deleteTaskFetch=function(e){return n.rest.delete("tasks/"+e)}},370:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.store=void 0;var n,a=r(240),u=r(355),s=(n=u)&&n.__esModule?n:{default:n},c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(232)),o=r(354);var i=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||a.compose,d=(0,a.combineReducers)(c),l=(0,s.default)();t.store=(0,a.createStore)(d,i((0,a.applyMiddleware)(l)));l.run(o.rootSaga)},50:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(370);Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}})});var a=r(232);Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}})});var u=r(231);Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return u[e]}})});var s=r(142);Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}})});var c=r(368);Object.keys(c).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return c[e]}})})}}]);